<ActionBar class="action-bar">
    <GridLayout columns="*,auto">
        <Label class="action-bar-title" [text]="title"></Label>
        <Label col="1" text="&#xf2bd;" class="fa plan-button" (tap)="onProfileButtonTap()"></Label>
    </GridLayout>
</ActionBar>
<GridLayout rows="auto,*,auto" columns="*">
    <StackLayout>
        <GridLayout rows="auto,auto" columns="auto,*">
            <Label [text]="filterLabel" class="filter-label text-uppercase" (tap)="onFilterLabelTap()"></Label>
            <Label text="Reset" col="1" class="reset-label" (tap)="onResetLabelTap()"></Label>
            <StackLayout orientation="horizontal" row="1" colspan="2">
                <StackLayout class="filter-grid" data-name="location">
                    <Button *ngIf="filterExpanded" text="&#xf041;" [class.selected]="selectedFilter==='location'" class="fa filter-button" (tap)="onFilterButtonTap($event)"></Button>
                    <Label text="Location" [class.selected]="selectedFilter==='location'" class="filter-text" (tap)="onFilterButtonTap($event)"></Label>
                </StackLayout>
                <StackLayout class="filter-grid" data-name="speciality">
                    <Button *ngIf="filterExpanded" text="&#xf0fa;" [class.selected]="selectedFilter==='speciality'" class="fa filter-button"
                        (tap)="onFilterButtonTap($event)"></Button>
                    <Label text="Speciality" [class.selected]="selectedFilter==='speciality'" class="filter-text" (tap)="onFilterButtonTap($event)"></Label>
                </StackLayout>
            </StackLayout>
        </GridLayout>
        <StackLayout class="hr-light"></StackLayout>
    </StackLayout>
    <StackLayout class="result-panel" row="1">
        <StackLayout *ngIf="selectedFilter===''">
            <StackLayout>
                <Label text="Your Recent Appointments" class="header text-uppercase t-14 p-l-15 p-t-10 p-b-7"></Label>
                <StackLayout class="hr-light"></StackLayout>
            </StackLayout>
            <RadListView [items]="recentItems">
                <ng-template tkListItemTemplate let-item="item">
                    <GridLayout class="filterListView p-t-10" columns="*,auto" rows="*,auto">
                        <GridLayout rows="auto, auto, auto, auto" columns="auto, *, auto" class="p-t-10 p-l-15" (tap)="onResultTap(item)">
                            <Image row="0" rowSpan="2" col="0" width="40" height="40" class="p-5 m-r-10 m-y-auto text-center" [src]="item.small_image_url"></Image>
                            <Label row="0" col="1" [text]="item.prefix + ' ' + item.first_name + ' ' + item.last_name" class="font-weight-bold"></Label>
                            <Label row="1" col="1" [text]="item.residencies[0].institution_name" class="text-muted m-b-10"></Label>
                            <Label row="0" rowSpan="3" col="2" text="&#xf105;" class="fa text-muted m-r-10 m-b-10 m-y-auto"></Label>
                        </GridLayout>
                    </GridLayout>
                </ng-template>
            </RadListView>
        </StackLayout>
        <StackLayout *ngIf="selectedFilter==='location'">
            <StackLayout>
                <Label text="Location" class="header text-uppercase t-14 p-l-15 p-t-10 p-b-7"></Label>
                <StackLayout class="hr-light"></StackLayout>
            </StackLayout>
            <StackLayout>
                <GridLayout rows="auto" columns="auto,*">
                    <Label text="ZIP" class="itemLabel t-19 p-l-15 p-t-10"></Label>
                    <TextField hint="Enter ZIP code...." keyboardType="number" class="zip-text-field" col="1" [(ngModel)]="zipCode"></TextField>
                </GridLayout>
                <StackLayout class="hr-light"></StackLayout>
            </StackLayout>
        </StackLayout>
        <StackLayout *ngIf="selectedFilter==='speciality'" class="p-l-15">
            <RadListView [items]="specialityItems" selectionBehavior="Press" (itemSelected)="specialitySelected($event)" (itemDeselected)="specialityDeselected($event)">
                <ng-template tkListItemTemplate let-item="item">
                    <GridLayout class="filterListView p-t-10" columns="*,auto" rows="*,auto">
                        <Label [text]="item.name" class="itemLabel t-18 p-b-10"></Label>
                        <Label col="1" text="&#xf00c;" *ngIf="item.selected" class="fa checkmark t-19 pull-right p-r-20"></Label>
                        <StackLayout row="1" colspan="2" class="hr-light"></StackLayout>
                    </GridLayout>
                </ng-template>
            </RadListView>
        </StackLayout>
    </StackLayout>
    <Button *ngIf="selectedFilter!==''" text="Find Physician" class="find-button" row="2" (tap)="onFindButtonTap()"></Button>
</GridLayout>